---
import Layout from '@/layouts/Layout.astro';
import Separator from '@/components/Separator.astro';
import { getLangFromUrl, useTranslations } from '@/i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

export async function getStaticPaths() {
  return [
    {params: {lang: "en"}}
  ];
}

const pageTitle = lang === 'en' 
  ? "Casa del Jaguar Resort - Luxury Ancestral Medicine Center"
  : "Resort Casa del Jaguar - Centro de Medicina Ancestral de Lujo";
  
const pageDescription = lang === 'en'
  ? "Experience comfort and elegance at our ancestral medicine resort in Iquitos, Peru. Luxury facilities, private rooms, common areas and sacred spaces for your spiritual transformation."
  : "Experimenta la comodidad y elegancia en nuestro resort de medicina ancestral en Iquitos, Perú. Instalaciones de lujo, habitaciones privadas, áreas comunes y espacios sagrados para tu transformación espiritual.";

const pageKeywords = lang === 'en'
  ? "Casa del Jaguar resort, luxury ayahuasca center, Iquitos facilities, private rooms, ancestral medicine resort, spiritual retreat Peru"
  : "resort Casa del Jaguar, centro ayahuasca lujo, instalaciones Iquitos, habitaciones privadas, medicina ancestral resort, retiro espiritual Perú";
---

<Layout 
  title={pageTitle}
  description={pageDescription}
  keywords={pageKeywords}
>
  <section class="hero relative h-[500px] -mt-16 pt-16 flex items-center justify-center overflow-hidden">
    <div class="absolute inset-0 z-0">
      <img 
        src="/img/centro-pasadiso.webp" 
        alt={lang === 'en' ? "Casa del Jaguar Resort - Ancestral medicine center" : "Resort Casa del Jaguar - Centro de medicina ancestral"}
        class="w-full h-full object-cover"
      />
    </div>

    <div class="relative z-10 max-w-6xl mx-auto px-4 md:px-8 text-center">
      <h1 class="scroll-animate text-5xl md:text-7xl font-bold text-white font-georgia mb-8 leading-tight">
        {lang === 'en' ? (
          <>The Perfect Setting</>
        ) : (
          <>Resort <br/><span class="text-brand-primary">Casa del Jaguar</span></>
        )}
      </h1>
      
      <p class="scroll-animate text-xl md:text-[19px] text-white brand-cream mb-12 max-w-4xl mx-auto font-gotham leading-relaxed">
        {lang === 'en' 
          ? "The Casa del Jaguar resort in beautiful Iquitos, Peru, includes all the comforts and premium amenities to fully integrate your journey."
          : "El resort Casa del Jaguar en la hermosa Iquitos, Perú, incluye todas las comodidades y servicios premium para integrar completamente tu viaje."
        }
      </p>
    </div>
  </section>

  <section class="py-16 bg-[#fffcf6] scroll-animate">
    <div class="max-w-[1500px] mx-auto px-4 md:px-8">
      <div class="grid md:grid-cols-2 gap-12 items-center">
        <div class="space-y-6">
          <h2 class="text-3xl md:text-4xl font-bold text-brand-dark font-georgia">
            {lang === 'en' ? (
              <>Located at the gateway of the <span class="text-brand-gold">Amazon</span>, where nature teaches us to live longer, happier, and more connected lives.</>
            ) : (
              <>Ubicado en la puerta de entrada del <span class="text-brand-gold">Amazonas</span>, donde la naturaleza nos enseña a vivir más tiempo, más felices y más conectados.</>
            )}
          </h2>
          <p class="text-[17px] text-brand-dark font-gotham leading-relaxed">
            {lang === 'en' 
              ? "Casa del Jaguar is more than a resort; it's a sanctuary of transformation strategically located in Iquitos, the capital of the Peruvian Amazon. Here, in the heart of the world's most biodiverse rainforest, ancestral wisdom meets modern luxury."
              : "Casa del Jaguar es más que un resort; es un santuario de transformación ubicado estratégicamente en Iquitos, la capital de la Amazonía peruana. Aquí, en el corazón de la selva más biodiversa del mundo, la sabiduría ancestral se encuentra con el lujo moderno."
            }
          </p>
          <p class="text-[17px] text-brand-dark font-gotham leading-relaxed">
            {lang === 'en' 
              ? "Our facilities have been designed to honor the deep connection between humans and nature, offering a sacred space where ancestral medicine can work in harmony with your healing and personal growth process."
              : "Nuestras instalaciones han sido diseñadas para honrar la conexión profunda entre el ser humano y la naturaleza, ofreciendo un espacio sagrado donde la medicina ancestral puede trabajar en armonía con tu proceso de sanación y crecimiento personal."
            }
          </p>
          <div class="pt-4">
            <a href="https://maps.app.goo.gl/25mFXhWBx2a1Pznd8" target="_blank" rel="noopener noreferrer">
                <button class="bg-brand-dark text-white px-8 py-4 rounded-lg font-gotham font-semibold text-lg transition-colors duration-300 shadow-lg hover:shadow-xl">
                {lang === 'en' ? 'View Map' : 'Descubre Nuestras Instalaciones'}
                </button>
            </a>
          </div>
        </div>
        <div>
          <img 
            src="/img/assets/mapa.webp" 
            alt={lang === 'en' ? "Casa del Jaguar located in the Peruvian Amazon" : "Casa del Jaguar ubicado en la Amazonía peruana"}
            class="w-full h-full object-cover"
          />
        </div>
      </div>
    </div>
  </section>

  <section class="py-16 bg-white scroll-animate">
    <div class="max-w-[1500px] mx-auto px-4 md:px-8">
      <div class="text-center mb-12">
        <h2 class="text-5xl md:text-6xl font-bold text-brand-dark font-georgia mb-6">
          Maloca
        </h2>
        <p class="text-[17px] text-brand-dark font-gotham leading-relaxed max-w-4xl mx-auto mb-4">
          {lang === 'en' 
            ? "The Maloca is the sacred heart of Casa del Jaguar, a transformative space where ayahuasca ceremonies, breathwork, yoga, and sacred music take place. This ancestral temple is filled with spiritual energy and shamanic guidance, creating the perfect environment for deep healing."
            : "La Maloca es el corazón sagrado de Casa del Jaguar, un espacio transformador donde tienen lugar las ceremonias de ayahuasca, trabajo de respiración, yoga y música sagrada. Este templo ancestral está lleno de energía espiritual y guía chamánica, creando el ambiente perfecto para la sanación profunda."
          }
        </p>
        <p class="text-[17px] text-brand-dark font-gotham leading-relaxed max-w-4xl mx-auto">
          {lang === 'en' 
            ? "It is a transformative communal space filled with music, ceremony, and spiritual connection, where every soul finds its path to healing."
            : "Es un espacio comunitario transformador lleno de música, ceremonia y conexión espiritual, donde cada alma encuentra su camino hacia la sanación."
          }
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:h-[600px]" data-gallery="maloca">
        <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group"
             data-src="/img/maloca-ceremonial.webp" 
             data-alt={lang === 'en' ? "Interior of Casa del Jaguar ceremonial Maloca" : "Interior de la Maloca ceremonial Casa del Jaguar"}>
          <img 
            src="/img/maloca-ceremonial.webp" 
            alt={lang === 'en' ? "Interior of Casa del Jaguar ceremonial Maloca" : "Interior de la Maloca ceremonial Casa del Jaguar"}
            class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
          />
          <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
        </div>
        <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group"
             data-src="/img/centro-maloca.webp" 
             data-alt={lang === 'en' ? "Sacred space of the Maloca" : "Espacio sagrado de la Maloca"}>
          <img 
            src="/img/centro-maloca.webp" 
            alt={lang === 'en' ? "Sacred space of the Maloca" : "Espacio sagrado de la Maloca"}
            class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
          />
          <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-1 md:grid-rows-2 gap-6 h-auto md:h-full scroll-animate">
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group"
               data-src="/img/ayahuasca.webp" 
               data-alt={lang === 'en' ? "Ayahuasca ceremony in the Maloca" : "Ceremonia de ayahuasca en la Maloca"}>
            <img 
              src="/img/ayahuasca.webp" 
              alt={lang === 'en' ? "Ayahuasca ceremony in the Maloca" : "Ceremonia de ayahuasca en la Maloca"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group"
               data-src="/img/yoga-session-1.webp" 
               data-alt={lang === 'en' ? "Yoga session in the Maloca" : "Sesión de yoga en la Maloca"}>
            <img 
              src="/img/yoga-session-1.webp" 
              alt={lang === 'en' ? "Yoga session in the Maloca" : "Sesión de yoga en la Maloca"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="py-16 bg-[#fffcf6] scroll-animate">
    <div class="max-w-[1500px] mx-auto px-4 md:px-8">
      <div class="text-center mb-12">
        <h2 class="text-5xl md:text-6xl font-bold text-brand-dark font-georgia mb-6">
          {lang === 'en' ? 'Restaurant' : 'Restaurante'}
        </h2>
        <p class="text-xl text-brand-dark font-gotham leading-relaxed max-w-4xl mx-auto mb-4">
          {lang === 'en' 
            ? "Enjoy a unique gastronomic experience with organic Amazonian ingredients. Our restaurant offers nutritious and delicious meals, carefully prepared to complement your healing and transformation process."
            : "Disfruta de una experiencia gastronómica única con ingredientes orgánicos amazónicos. Nuestro restaurante ofrece comidas nutritivas y deliciosas, cuidadosamente preparadas para complementar tu proceso de sanación y transformación."
          }
        </p>
        <p class="text-xl text-brand-dark font-gotham leading-relaxed max-w-4xl mx-auto">
          {lang === 'en' 
            ? "Each dish is designed to nourish your body and soul, using fresh local ingredients and culinary techniques that honor both tradition and innovation."
            : "Cada plato está diseñado para nutrir tu cuerpo y alma, utilizando ingredientes locales frescos y técnicas culinarias que honran tanto la tradición como la innovación."
          }
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:h-[600px] scroll-animate" data-gallery="restaurant">
        <div class="grid grid-cols-2 md:grid-cols-1 md:grid-rows-2 gap-6 h-auto md:h-full">
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
               data-src="/img/food/chefs.webp" 
               data-alt={lang === 'en' ? "Organic Amazonian food Casa del Jaguar" : "Comida orgánica amazónica Casa del Jaguar"}>
            <img 
              src="/img/food/chefs.webp" 
              alt={lang === 'en' ? "Organic Amazonian food Casa del Jaguar" : "Comida orgánica amazónica Casa del Jaguar"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
               data-src="/img/food/sandwich.webp" 
               data-alt={lang === 'en' ? "Healthy and nutritious dishes" : "Platos saludables y nutritivos"}>
            <img 
              src="/img/food/sandwich.webp" 
              alt={lang === 'en' ? "Healthy and nutritious dishes" : "Platos saludables y nutritivos"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-1 md:grid-rows-2 gap-6 h-auto md:h-full">
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
               data-src="/img/food/lasana.webp" 
               data-alt={lang === 'en' ? "Fresh Amazonian ingredients" : "Ingredientes frescos amazónicos"}>
            <img 
              src="/img/food/lasana.webp" 
              alt={lang === 'en' ? "Fresh Amazonian ingredients" : "Ingredientes frescos amazónicos"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
               data-src="/img/food/sandwich.webp" 
               data-alt={lang === 'en' ? "Amazonian gastronomic experience" : "Experiencia gastronómica amazónica"}>
            <img 
              src="/img/food/sandwich.webp" 
              alt={lang === 'en' ? "Amazonian gastronomic experience" : "Experiencia gastronómica amazónica"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
        </div>

        <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
             data-src="/img/food/comida-pescado.webp" 
             data-alt={lang === 'en' ? "Casa del Jaguar restaurant atmosphere" : "Restaurante Casa del Jaguar ambiente"}>
          <img 
            src="/img/food/comida-pescado.webp" 
            alt={lang === 'en' ? "Casa del Jaguar restaurant atmosphere" : "Restaurante Casa del Jaguar ambiente"}
            class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
          />
          <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
        </div>
      </div>
    </div>
  </section>

  <section class="py-16 bg-white scroll-animate">
    <div class="max-w-[1500px] mx-auto px-4 md:px-8">
      <div class="text-center mb-12">
        <h2 class="text-5xl md:text-6xl font-bold text-brand-dark font-georgia mb-6">
          {lang === 'en' ? "Bedrooms" : "Habitaciones"}
        </h2>
        <p class="text-[17px] text-brand-dark font-gotham leading-relaxed max-w-4xl mx-auto mb-4">
          {lang === 'en' 
            ? "Rest in our bedrooms specially designed for your comfort and tranquility. Each space has been carefully prepared to offer you the rest you need during your spiritual transformation process."
            : "Descansa en nuestras habitaciones diseñadas especialmente para tu comodidad y tranquilidad. Cada espacio ha sido cuidadosamente preparado para ofrecerte el descanso que necesitas durante tu proceso de transformación espiritual."
          }
        </p>
        <p class="text-[17px] text-brand-dark font-gotham leading-relaxed max-w-4xl mx-auto">
          {lang === 'en' 
            ? "Our private rooms have all the necessary amenities, creating a perfect refuge where you can process and integrate the teachings of your spiritual journey."
            : "Nuestras habitaciones privadas cuentan con todas las comodidades necesarias, creando un refugio perfecto donde podrás procesar y integrar las enseñanzas de tu viaje espiritual."
          }
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:h-[600px] scroll-animate" data-gallery="bedrooms">
        <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
             data-src="/img/habitacion-principal.webp" 
             data-alt={lang === 'en' ? "Main bedroom Casa del Jaguar" : "Habitación principal Casa del Jaguar"}>
          <img 
            src="/img/habitacion-principal.webp" 
            alt={lang === 'en' ? "Main bedroom Casa del Jaguar" : "Habitación principal Casa del Jaguar"}
            class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
          />
          <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-1 md:grid-rows-2 gap-6 h-auto md:h-full">
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
               data-src="/img/habitacion-doble.webp" 
               data-alt={lang === 'en' ? "Double bedroom Casa del Jaguar" : "Habitación doble Casa del Jaguar"}>
            <img 
              src="/img/habitacion-doble.webp" 
              alt={lang === 'en' ? "Double bedroom Casa del Jaguar" : "Habitación doble Casa del Jaguar"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
               data-src="/img/baño-privado.webp" 
               data-alt={lang === 'en' ? "Private bathroom Casa del Jaguar" : "Baño privado Casa del Jaguar"}>
            <img 
              src="/img/baño-privado.webp" 
              alt={lang === 'en' ? "Private bathroom Casa del Jaguar" : "Baño privado Casa del Jaguar"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-1 md:grid-rows-2 gap-6 h-auto md:h-full">
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
               data-src="/img/habitacion-individual.webp" 
               data-alt={lang === 'en' ? "Single bedroom Casa del Jaguar" : "Habitación individual Casa del Jaguar"}>
            <img 
              src="/img/habitacion-individual.webp" 
              alt={lang === 'en' ? "Single bedroom Casa del Jaguar" : "Habitación individual Casa del Jaguar"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
               data-src="/img/area-descanso.webp" 
               data-alt={lang === 'en' ? "Rest area Casa del Jaguar" : "Área de descanso Casa del Jaguar"}>
            <img 
              src="/img/area-descanso.webp" 
              alt={lang === 'en' ? "Rest area Casa del Jaguar" : "Área de descanso Casa del Jaguar"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="py-16 bg-[#fffcf6] scroll-animate">
    <div class="max-w-[1500px] mx-auto px-4 md:px-8">
      <div class="text-center mb-12">
        <h2 class="text-5xl md:text-6xl font-bold text-brand-dark font-georgia mb-6">
          {lang === 'en' ? "Spa & Massage Room" : "Spa y Sala de Masajes"}
        </h2>
        <p class="text-[17px] text-brand-dark font-gotham leading-relaxed max-w-4xl mx-auto mb-4">
          {lang === 'en' 
            ? "Relax and renew yourself in our tranquil spa and professional massage room. These spaces have been designed to complement your healing process with holistic therapies that nourish both body and spirit."
            : "Relájate y renuévate en nuestro spa tranquilo y nuestra sala de masajes profesional. Estos espacios han sido diseñados para complementar tu proceso de sanación con terapias holísticas que nutren tanto el cuerpo como el espíritu."
          }
        </p>
        <p class="text-[17px] text-brand-dark font-gotham leading-relaxed max-w-4xl mx-auto">
          {lang === 'en' 
            ? "Experience traditional Amazonian treatments and modern relaxation techniques in a serene environment that promotes deep release and energetic renewal."
            : "Experimenta tratamientos tradicionales amazónicos y técnicas de relajación moderna en un ambiente sereno que promueve la liberación profunda y la renovación energética."
          }
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:h-[600px] scroll-animate" data-gallery="spa">
        <div class="grid grid-cols-2 md:grid-cols-1 md:grid-rows-2 gap-6 h-auto md:h-full">
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
               data-src="/img/spa/sala-masajes.webp" 
               data-alt={lang === 'en' ? "Massage room Casa del Jaguar" : "Sala de masajes Casa del Jaguar"}>
            <img 
              src="/img/spa/sala-masajes.webp" 
              alt={lang === 'en' ? "Massage room Casa del Jaguar" : "Sala de masajes Casa del Jaguar"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
               data-src="/img/spa/terapia-relajacion.webp" 
               data-alt={lang === 'en' ? "Relaxation therapy Casa del Jaguar" : "Terapia de relajación Casa del Jaguar"}>
            <img 
              src="/img/spa/terapia-relajacion.webp" 
              alt={lang === 'en' ? "Relaxation therapy Casa del Jaguar" : "Terapia de relajación Casa del Jaguar"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-1 md:grid-rows-2 gap-6 h-auto md:h-full">
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
               data-src="/img/spa/aceites-esenciales.webp" 
               data-alt={lang === 'en' ? "Essential oils and aromatherapy" : "Aceites esenciales y aromaterapia"}>
            <img 
              src="/img/spa/aceites-esenciales.webp" 
              alt={lang === 'en' ? "Essential oils and aromatherapy" : "Aceites esenciales y aromaterapia"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
               data-src="/img/spa/meditacion.webp" 
               data-alt={lang === 'en' ? "Meditation and relaxation space" : "Espacio de meditación y relajación"}>
            <img 
              src="/img/spa/meditacion.webp" 
              alt={lang === 'en' ? "Meditation and relaxation space" : "Espacio de meditación y relajación"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
        </div>

        <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
             data-src="/img/spa/spa-principal.webp" 
             data-alt={lang === 'en' ? "Main spa Casa del Jaguar" : "Spa principal Casa del Jaguar"}>
          <img 
            src="/img/spa/spa-principal.webp" 
            alt={lang === 'en' ? "Main spa Casa del Jaguar" : "Spa principal Casa del Jaguar"}
            class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
          />
          <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
        </div>
      </div>
    </div>
  </section>

  <section class="py-16 bg-white scroll-animate">
    <div class="max-w-[1500px] mx-auto px-4 md:px-8">
      <div class="text-center mb-12">
        <h2 class="text-5xl md:text-6xl font-bold text-brand-dark font-georgia mb-6">
          {lang === 'en' ? "Pools & Activities" : "Piscinas y Actividades"}
        </h2>
        <p class="text-[17px] text-brand-dark font-gotham leading-relaxed max-w-4xl mx-auto mb-4">
          {lang === 'en' 
            ? "Enjoy our refreshing pools and participate in various activities that enrich your Amazon experience. From relaxing swimming to exploration excursions, each activity is designed to connect you deeply with nature."
            : "Disfruta de nuestras refrescantes piscinas y participa en diversas actividades que enriquecen tu experiencia en la Amazonía. Desde natación relajante hasta excursiones de exploración, cada actividad está diseñada para conectarte profundamente con la naturaleza."
          }
        </p>
        <p class="text-[17px] text-brand-dark font-gotham leading-relaxed max-w-4xl mx-auto">
          {lang === 'en' 
            ? "Our recreational facilities offer the perfect balance between relaxation and adventure, allowing you to explore Amazonian biodiversity while enjoying moments of tranquility and recreation."
            : "Nuestras instalaciones recreativas ofrecen el equilibrio perfecto entre relajación y aventura, permitiéndote explorar la biodiversidad amazónica mientras disfrutas de momentos de tranquilidad y recreación."
          }
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:h-[600px] scroll-animate" data-gallery="pools">
        <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
             data-src="/img/pools/piscina-principal.webp" 
             data-alt={lang === 'en' ? "Main pool Casa del Jaguar" : "Piscina principal Casa del Jaguar"}>
          <img 
            src="/img/pools/piscina-principal.webp" 
            alt={lang === 'en' ? "Main pool Casa del Jaguar" : "Piscina principal Casa del Jaguar"}
            class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
          />
          <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-1 md:grid-rows-2 gap-6 h-auto md:h-full">
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
               data-src="/img/pools/excursion-rio.webp" 
               data-alt={lang === 'en' ? "Amazon river excursion" : "Excursión por el río Amazonas"}>
            <img 
              src="/img/pools/excursion-rio.webp" 
              alt={lang === 'en' ? "Amazon river excursion" : "Excursión por el río Amazonas"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
               data-src="/img/pools/actividades-naturaleza.webp" 
               data-alt={lang === 'en' ? "Nature activities" : "Actividades en la naturaleza"}>
            <img 
              src="/img/pools/actividades-naturaleza.webp" 
              alt={lang === 'en' ? "Nature activities" : "Actividades en la naturaleza"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-1 md:grid-rows-2 gap-6 h-auto md:h-full">
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
               data-src="/img/pools/piscina-relajacion.webp" 
               data-alt={lang === 'en' ? "Pool relaxation area" : "Área de relajación en piscina"}>
            <img 
              src="/img/pools/piscina-relajacion.webp" 
              alt={lang === 'en' ? "Pool relaxation area" : "Área de relajación en piscina"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
               data-src="/img/pools/observacion-fauna.webp" 
               data-alt={lang === 'en' ? "Amazonian wildlife observation" : "Observación de fauna amazónica"}>
            <img 
              src="/img/pools/observacion-fauna.webp" 
              alt={lang === 'en' ? "Amazonian wildlife observation" : "Observación de fauna amazónica"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="py-16 bg-[#fffcf6] scroll-animate">
    <div class="max-w-[1500px] mx-auto px-4 md:px-8">
      <div class="text-center mb-12">
        <h2 class="text-5xl md:text-6xl font-bold text-brand-dark font-georgia mb-6">
          {lang === 'en' ? "Indigenous Communities" : "Comunidades Indígenas"}
        </h2>
        <p class="text-[17px] text-brand-dark font-gotham leading-relaxed max-w-4xl mx-auto mb-4">
          {lang === 'en' 
            ? "Meet and connect with the Boras, Shipibo, and Cucamas indigenous communities, ancestral guardians of Amazonian wisdom. These millennial cultures keep alive the traditions of healing and spiritual knowledge that deeply enrich your experience."
            : "Conoce y conecta con las comunidades indígenas Boras, Shipibo y Cucamas, guardianes ancestrales de la sabiduría amazónica. Estas culturas milenarias mantienen vivas las tradiciones de sanación y conocimiento espiritual que enriquecen profundamente tu experiencia."
          }
        </p>
        <p class="text-[17px] text-brand-dark font-gotham leading-relaxed max-w-4xl mx-auto">
          {lang === 'en' 
            ? "Through authentic cultural exchanges, you will learn about their sacred rituals, traditional medicine, and ancestral worldview, creating bridges of understanding and mutual respect."
            : "A través de intercambios culturales auténticos, aprenderás sobre sus rituales sagrados, medicina tradicional y cosmovisión ancestral, creando puentes de entendimiento y respeto mutuo."
          }
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:h-[600px] scroll-animate" data-gallery="villages">
        <div class="grid grid-cols-2 md:grid-cols-1 md:grid-rows-2 gap-6 h-auto md:h-full">
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
               data-src="/img/villages/comunidad-boras.webp" 
               data-alt={lang === 'en' ? "Boras indigenous community" : "Comunidad indígena Boras"}>
            <img 
              src="/img/villages/comunidad-boras.webp" 
              alt={lang === 'en' ? "Boras indigenous community" : "Comunidad indígena Boras"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
               data-src="/img/villages/rituales-ancestrales.webp" 
               data-alt={lang === 'en' ? "Indigenous ancestral rituals" : "Rituales ancestrales indígenas"}>
            <img 
              src="/img/villages/rituales-ancestrales.webp" 
              alt={lang === 'en' ? "Indigenous ancestral rituals" : "Rituales ancestrales indígenas"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-1 md:grid-rows-2 gap-6 h-auto md:h-full">
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
               data-src="/img/villages/arte-shipibo.webp" 
               data-alt={lang === 'en' ? "Traditional Shipibo art" : "Arte tradicional Shipibo"}>
            <img 
              src="/img/villages/arte-shipibo.webp" 
              alt={lang === 'en' ? "Traditional Shipibo art" : "Arte tradicional Shipibo"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
          <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
               data-src="/img/villages/medicina-tradicional.webp" 
               data-alt={lang === 'en' ? "Traditional Amazonian medicine" : "Medicina tradicional amazónica"}>
            <img 
              src="/img/villages/medicina-tradicional.webp" 
              alt={lang === 'en' ? "Traditional Amazonian medicine" : "Medicina tradicional amazónica"}
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
          </div>
        </div>

        <div class="h-[250px] md:h-full gallery-item cursor-pointer relative overflow-hidden rounded-lg shadow-lg group scroll-animate"
             data-src="/img/villages/comunidades-indigenas.webp" 
             data-alt={lang === 'en' ? "Amazonian indigenous communities" : "Comunidades indígenas amazónicas"}>
          <img 
            src="/img/villages/comunidades-indigenas.webp" 
            alt={lang === 'en' ? "Amazonian indigenous communities" : "Comunidades indígenas amazónicas"}
            class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
          />
          <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
        </div>
      </div>
    </div>
  </section>

  <div id="galleryModal" class="gallery-modal hidden fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center">
    <div class="modal-content relative max-w-6xl mx-auto p-4">
      <button id="closeModal" class="absolute top-4 right-4 text-white text-4xl hover:text-brand-primary transition-colors z-10">
        ×
      </button>
      
      <div class="main-image-container mb-6">
        <img id="modalMainImage" src="" alt="" class="w-full h-auto max-h-[70vh] object-contain rounded-lg">
      </div>
      
      <div class="thumbnail-gallery flex gap-3 justify-center overflow-x-auto pb-4">
      </div>
      
      <button id="prevImage" class="absolute left-4 top-1/2 transform -translate-y-1/2 text-white text-6xl hover:text-brand-primary transition-colors">
        ‹
      </button>
      <button id="nextImage" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-white text-6xl hover:text-brand-primary transition-colors">
        ›
      </button>
    </div>
  </div>

<script>
window.addEventListener('load', function() {
  const modal = document.getElementById('galleryModal');
  const modalMainImage = document.getElementById('modalMainImage');
  const thumbnailGallery = document.querySelector('.thumbnail-gallery');
  const closeModalBtn = document.getElementById('closeModal');
  const prevBtn = document.getElementById('prevImage');
  const nextBtn = document.getElementById('nextImage');
  
  if (!modal || !modalMainImage || !thumbnailGallery || !closeModalBtn || !prevBtn || !nextBtn) {
    return;
  }
  
  let currentGallery: { src: string; alt: string }[] = [];
  let currentImageIndex = 0;

  function openModal(galleryType: string, imageIndex?: number) {
    if (imageIndex === undefined) imageIndex = 0;
    
    const galleryContainer = document.querySelector('[data-gallery="' + galleryType + '"]');
    if (!galleryContainer) return;
    
    const images = galleryContainer.querySelectorAll('.gallery-item');
    
    currentGallery = [];
    for (let i = 0; i < images.length; i++) {
      const img = images[i];
      currentGallery.push({
        src: img.getAttribute('data-src') || '',
        alt: img.getAttribute('data-alt') || ''
      });
    }
    
    currentImageIndex = imageIndex;
    updateMainImage();
    generateThumbnails();
    
    if (modal) {
      modal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }
  }

  function updateMainImage() {
    if (currentGallery[currentImageIndex] && modalMainImage) {
      const imageData = currentGallery[currentImageIndex];
      (modalMainImage as HTMLImageElement).src = imageData.src;
      (modalMainImage as HTMLImageElement).alt = imageData.alt;
      updateActiveThumbnail();
    }
  }

  function generateThumbnails() {
    if (!thumbnailGallery) return;
    thumbnailGallery.innerHTML = '';
    
    for (let i = 0; i < currentGallery.length; i++) {
      const image = currentGallery[i];
      const thumbnail = document.createElement('img');
      thumbnail.src = image.src;
      thumbnail.alt = image.alt;
      thumbnail.className = 'thumbnail-item rounded-lg object-cover';
      thumbnail.style.width = '80px';
      thumbnail.style.height = '80px';
      thumbnail.style.border = '2px solid transparent';
      thumbnail.style.cursor = 'pointer';
      
      if (i === currentImageIndex) {
        thumbnail.style.borderColor = '#F2AB27';
      }
      
      thumbnail.addEventListener('click', (function(index) {
        return function() {
          currentImageIndex = index;
          updateMainImage();
        };
      })(i));
      
      thumbnailGallery.appendChild(thumbnail);
    }
  }

  function updateActiveThumbnail() {
    const thumbnails = thumbnailGallery?.querySelectorAll('.thumbnail-item');
    if (thumbnails) {
      for (let i = 0; i < thumbnails.length; i++) {
        const thumbnail = thumbnails[i] as HTMLElement;
        if (i === currentImageIndex) {
          thumbnail.style.borderColor = '#F2AB27';
        } else {
          thumbnail.style.borderColor = 'transparent';
        }
      }
    }
  }

  function closeModal() {
    if (modal) {
      modal.classList.add('hidden');
      document.body.style.overflow = '';
    }
  }

  function nextImage() {
    if (currentImageIndex < currentGallery.length - 1) {
      currentImageIndex++;
      updateMainImage();
    }
  }

  function prevImage() {
    if (currentImageIndex > 0) {
      currentImageIndex--;
      updateMainImage();
    }
  }

  closeModalBtn.addEventListener('click', closeModal);
  prevBtn.addEventListener('click', prevImage);
  nextBtn.addEventListener('click', nextImage);

  modal.addEventListener('click', function(e) {
    if (e.target === modal) {
      closeModal();
    }
  });

  document.addEventListener('keydown', function(e) {
    if (!modal.classList.contains('hidden')) {
      if (e.key === 'Escape') {
        closeModal();
      } else if (e.key === 'ArrowLeft') {
        prevImage();
      } else if (e.key === 'ArrowRight') {
        nextImage();
      }
    }
  });

  const galleryItems = document.querySelectorAll('.gallery-item');
  galleryItems.forEach((item, index) => {
    item.addEventListener('click', function(event: Event) {
      const target = event.currentTarget as HTMLElement;
      const gallery = target.closest('[data-gallery]');
      if (gallery) {
        const galleryType = gallery.getAttribute('data-gallery');
        if (galleryType) {
          openModal(galleryType, index);
        }
      }
    });
  });
});
</script>

</Layout>
