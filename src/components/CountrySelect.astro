---
interface Props {
  id?: string;
  name?: string;
  required?: boolean;
  className?: string;
  placeholder?: string;
  lang?: 'en' | 'es';
}

const { 
  id = "country", 
  name = "country", 
  required = false, 
  className = "", 
  placeholder,
  lang = 'es'
} = Astro.props;

const countries = [
  { code: 'AF', en: 'Afghanistan', es: 'Afganistán' },
  { code: 'AL', en: 'Albania', es: 'Albania' },
  { code: 'DZ', en: 'Algeria', es: 'Argelia' },
  { code: 'AD', en: 'Andorra', es: 'Andorra' },
  { code: 'AO', en: 'Angola', es: 'Angola' },
  { code: 'AG', en: 'Antigua and Barbuda', es: 'Antigua y Barbuda' },
  { code: 'AR', en: 'Argentina', es: 'Argentina' },
  { code: 'AM', en: 'Armenia', es: 'Armenia' },
  { code: 'AU', en: 'Australia', es: 'Australia' },
  { code: 'AT', en: 'Austria', es: 'Austria' },
  { code: 'AZ', en: 'Azerbaijan', es: 'Azerbaiyán' },
  { code: 'BS', en: 'Bahamas', es: 'Bahamas' },
  { code: 'BH', en: 'Bahrain', es: 'Baréin' },
  { code: 'BD', en: 'Bangladesh', es: 'Bangladés' },
  { code: 'BB', en: 'Barbados', es: 'Barbados' },
  { code: 'BY', en: 'Belarus', es: 'Bielorrusia' },
  { code: 'BE', en: 'Belgium', es: 'Bélgica' },
  { code: 'BZ', en: 'Belize', es: 'Belice' },
  { code: 'BJ', en: 'Benin', es: 'Benín' },
  { code: 'BT', en: 'Bhutan', es: 'Bután' },
  { code: 'BO', en: 'Bolivia', es: 'Bolivia' },
  { code: 'BA', en: 'Bosnia and Herzegovina', es: 'Bosnia y Herzegovina' },
  { code: 'BW', en: 'Botswana', es: 'Botsuana' },
  { code: 'BR', en: 'Brazil', es: 'Brasil' },
  { code: 'BN', en: 'Brunei', es: 'Brunéi' },
  { code: 'BG', en: 'Bulgaria', es: 'Bulgaria' },
  { code: 'BF', en: 'Burkina Faso', es: 'Burkina Faso' },
  { code: 'BI', en: 'Burundi', es: 'Burundi' },
  { code: 'KH', en: 'Cambodia', es: 'Camboya' },
  { code: 'CM', en: 'Cameroon', es: 'Camerún' },
  { code: 'CA', en: 'Canada', es: 'Canadá' },
  { code: 'CV', en: 'Cape Verde', es: 'Cabo Verde' },
  { code: 'CF', en: 'Central African Republic', es: 'República Centroafricana' },
  { code: 'TD', en: 'Chad', es: 'Chad' },
  { code: 'CL', en: 'Chile', es: 'Chile' },
  { code: 'CN', en: 'China', es: 'China' },
  { code: 'CO', en: 'Colombia', es: 'Colombia' },
  { code: 'KM', en: 'Comoros', es: 'Comoras' },
  { code: 'CG', en: 'Congo', es: 'Congo' },
  { code: 'CD', en: 'Congo (Democratic Republic)', es: 'Congo (República Democrática)' },
  { code: 'CR', en: 'Costa Rica', es: 'Costa Rica' },
  { code: 'CI', en: 'Côte d\'Ivoire', es: 'Costa de Marfil' },
  { code: 'HR', en: 'Croatia', es: 'Croacia' },
  { code: 'CU', en: 'Cuba', es: 'Cuba' },
  { code: 'CY', en: 'Cyprus', es: 'Chipre' },
  { code: 'CZ', en: 'Czech Republic', es: 'República Checa' },
  { code: 'DK', en: 'Denmark', es: 'Dinamarca' },
  { code: 'DJ', en: 'Djibouti', es: 'Yibuti' },
  { code: 'DM', en: 'Dominica', es: 'Dominica' },
  { code: 'DO', en: 'Dominican Republic', es: 'República Dominicana' },
  { code: 'EC', en: 'Ecuador', es: 'Ecuador' },
  { code: 'EG', en: 'Egypt', es: 'Egipto' },
  { code: 'SV', en: 'El Salvador', es: 'El Salvador' },
  { code: 'GQ', en: 'Equatorial Guinea', es: 'Guinea Ecuatorial' },
  { code: 'ER', en: 'Eritrea', es: 'Eritrea' },
  { code: 'EE', en: 'Estonia', es: 'Estonia' },
  { code: 'SZ', en: 'Eswatini', es: 'Esuatini' },
  { code: 'ET', en: 'Ethiopia', es: 'Etiopía' },
  { code: 'FJ', en: 'Fiji', es: 'Fiyi' },
  { code: 'FI', en: 'Finland', es: 'Finlandia' },
  { code: 'FR', en: 'France', es: 'Francia' },
  { code: 'GA', en: 'Gabon', es: 'Gabón' },
  { code: 'GM', en: 'Gambia', es: 'Gambia' },
  { code: 'GE', en: 'Georgia', es: 'Georgia' },
  { code: 'DE', en: 'Germany', es: 'Alemania' },
  { code: 'GH', en: 'Ghana', es: 'Ghana' },
  { code: 'GR', en: 'Greece', es: 'Grecia' },
  { code: 'GD', en: 'Grenada', es: 'Granada' },
  { code: 'GT', en: 'Guatemala', es: 'Guatemala' },
  { code: 'GN', en: 'Guinea', es: 'Guinea' },
  { code: 'GW', en: 'Guinea-Bissau', es: 'Guinea-Bisáu' },
  { code: 'GY', en: 'Guyana', es: 'Guyana' },
  { code: 'HT', en: 'Haiti', es: 'Haití' },
  { code: 'HN', en: 'Honduras', es: 'Honduras' },
  { code: 'HU', en: 'Hungary', es: 'Hungría' },
  { code: 'IS', en: 'Iceland', es: 'Islandia' },
  { code: 'IN', en: 'India', es: 'India' },
  { code: 'ID', en: 'Indonesia', es: 'Indonesia' },
  { code: 'IR', en: 'Iran', es: 'Irán' },
  { code: 'IQ', en: 'Iraq', es: 'Irak' },
  { code: 'IE', en: 'Ireland', es: 'Irlanda' },
  { code: 'IL', en: 'Israel', es: 'Israel' },
  { code: 'IT', en: 'Italy', es: 'Italia' },
  { code: 'JM', en: 'Jamaica', es: 'Jamaica' },
  { code: 'JP', en: 'Japan', es: 'Japón' },
  { code: 'JO', en: 'Jordan', es: 'Jordania' },
  { code: 'KZ', en: 'Kazakhstan', es: 'Kazajistán' },
  { code: 'KE', en: 'Kenya', es: 'Kenia' },
  { code: 'KI', en: 'Kiribati', es: 'Kiribati' },
  { code: 'KP', en: 'Korea (North)', es: 'Corea del Norte' },
  { code: 'KR', en: 'Korea (South)', es: 'Corea del Sur' },
  { code: 'KW', en: 'Kuwait', es: 'Kuwait' },
  { code: 'KG', en: 'Kyrgyzstan', es: 'Kirguistán' },
  { code: 'LA', en: 'Laos', es: 'Laos' },
  { code: 'LV', en: 'Latvia', es: 'Letonia' },
  { code: 'LB', en: 'Lebanon', es: 'Líbano' },
  { code: 'LS', en: 'Lesotho', es: 'Lesoto' },
  { code: 'LR', en: 'Liberia', es: 'Liberia' },
  { code: 'LY', en: 'Libya', es: 'Libia' },
  { code: 'LI', en: 'Liechtenstein', es: 'Liechtenstein' },
  { code: 'LT', en: 'Lithuania', es: 'Lituania' },
  { code: 'LU', en: 'Luxembourg', es: 'Luxemburgo' },
  { code: 'MG', en: 'Madagascar', es: 'Madagascar' },
  { code: 'MW', en: 'Malawi', es: 'Malaui' },
  { code: 'MY', en: 'Malaysia', es: 'Malasia' },
  { code: 'MV', en: 'Maldives', es: 'Maldivas' },
  { code: 'ML', en: 'Mali', es: 'Malí' },
  { code: 'MT', en: 'Malta', es: 'Malta' },
  { code: 'MH', en: 'Marshall Islands', es: 'Islas Marshall' },
  { code: 'MR', en: 'Mauritania', es: 'Mauritania' },
  { code: 'MU', en: 'Mauritius', es: 'Mauricio' },
  { code: 'MX', en: 'Mexico', es: 'México' },
  { code: 'FM', en: 'Micronesia', es: 'Micronesia' },
  { code: 'MD', en: 'Moldova', es: 'Moldavia' },
  { code: 'MC', en: 'Monaco', es: 'Mónaco' },
  { code: 'MN', en: 'Mongolia', es: 'Mongolia' },
  { code: 'ME', en: 'Montenegro', es: 'Montenegro' },
  { code: 'MA', en: 'Morocco', es: 'Marruecos' },
  { code: 'MZ', en: 'Mozambique', es: 'Mozambique' },
  { code: 'MM', en: 'Myanmar', es: 'Birmania' },
  { code: 'NA', en: 'Namibia', es: 'Namibia' },
  { code: 'NR', en: 'Nauru', es: 'Nauru' },
  { code: 'NP', en: 'Nepal', es: 'Nepal' },
  { code: 'NL', en: 'Netherlands', es: 'Países Bajos' },
  { code: 'NZ', en: 'New Zealand', es: 'Nueva Zelanda' },
  { code: 'NI', en: 'Nicaragua', es: 'Nicaragua' },
  { code: 'NE', en: 'Niger', es: 'Níger' },
  { code: 'NG', en: 'Nigeria', es: 'Nigeria' },
  { code: 'MK', en: 'North Macedonia', es: 'Macedonia del Norte' },
  { code: 'NO', en: 'Norway', es: 'Noruega' },
  { code: 'OM', en: 'Oman', es: 'Omán' },
  { code: 'PK', en: 'Pakistan', es: 'Pakistán' },
  { code: 'PW', en: 'Palau', es: 'Palaos' },
  { code: 'PS', en: 'Palestine', es: 'Palestina' },
  { code: 'PA', en: 'Panama', es: 'Panamá' },
  { code: 'PG', en: 'Papua New Guinea', es: 'Papúa Nueva Guinea' },
  { code: 'PY', en: 'Paraguay', es: 'Paraguay' },
  { code: 'PE', en: 'Peru', es: 'Perú' },
  { code: 'PH', en: 'Philippines', es: 'Filipinas' },
  { code: 'PL', en: 'Poland', es: 'Polonia' },
  { code: 'PT', en: 'Portugal', es: 'Portugal' },
  { code: 'QA', en: 'Qatar', es: 'Catar' },
  { code: 'RO', en: 'Romania', es: 'Rumania' },
  { code: 'RU', en: 'Russia', es: 'Rusia' },
  { code: 'RW', en: 'Rwanda', es: 'Ruanda' },
  { code: 'KN', en: 'Saint Kitts and Nevis', es: 'San Cristóbal y Nieves' },
  { code: 'LC', en: 'Saint Lucia', es: 'Santa Lucía' },
  { code: 'VC', en: 'Saint Vincent and the Grenadines', es: 'San Vicente y las Granadinas' },
  { code: 'WS', en: 'Samoa', es: 'Samoa' },
  { code: 'SM', en: 'San Marino', es: 'San Marino' },
  { code: 'ST', en: 'São Tomé and Príncipe', es: 'Santo Tomé y Príncipe' },
  { code: 'SA', en: 'Saudi Arabia', es: 'Arabia Saudita' },
  { code: 'SN', en: 'Senegal', es: 'Senegal' },
  { code: 'RS', en: 'Serbia', es: 'Serbia' },
  { code: 'SC', en: 'Seychelles', es: 'Seychelles' },
  { code: 'SL', en: 'Sierra Leone', es: 'Sierra Leona' },
  { code: 'SG', en: 'Singapore', es: 'Singapur' },
  { code: 'SK', en: 'Slovakia', es: 'Eslovaquia' },
  { code: 'SI', en: 'Slovenia', es: 'Eslovenia' },
  { code: 'SB', en: 'Solomon Islands', es: 'Islas Salomón' },
  { code: 'SO', en: 'Somalia', es: 'Somalia' },
  { code: 'ZA', en: 'South Africa', es: 'Sudáfrica' },
  { code: 'SS', en: 'South Sudan', es: 'Sudán del Sur' },
  { code: 'ES', en: 'Spain', es: 'España' },
  { code: 'LK', en: 'Sri Lanka', es: 'Sri Lanka' },
  { code: 'SD', en: 'Sudan', es: 'Sudán' },
  { code: 'SR', en: 'Suriname', es: 'Surinam' },
  { code: 'SE', en: 'Sweden', es: 'Suecia' },
  { code: 'CH', en: 'Switzerland', es: 'Suiza' },
  { code: 'SY', en: 'Syria', es: 'Siria' },
  { code: 'TW', en: 'Taiwan', es: 'Taiwán' },
  { code: 'TJ', en: 'Tajikistan', es: 'Tayikistán' },
  { code: 'TZ', en: 'Tanzania', es: 'Tanzania' },
  { code: 'TH', en: 'Thailand', es: 'Tailandia' },
  { code: 'TL', en: 'Timor-Leste', es: 'Timor Oriental' },
  { code: 'TG', en: 'Togo', es: 'Togo' },
  { code: 'TO', en: 'Tonga', es: 'Tonga' },
  { code: 'TT', en: 'Trinidad and Tobago', es: 'Trinidad y Tobago' },
  { code: 'TN', en: 'Tunisia', es: 'Túnez' },
  { code: 'TR', en: 'Turkey', es: 'Turquía' },
  { code: 'TM', en: 'Turkmenistan', es: 'Turkmenistán' },
  { code: 'TV', en: 'Tuvalu', es: 'Tuvalu' },
  { code: 'UG', en: 'Uganda', es: 'Uganda' },
  { code: 'UA', en: 'Ukraine', es: 'Ucrania' },
  { code: 'AE', en: 'United Arab Emirates', es: 'Emiratos Árabes Unidos' },
  { code: 'GB', en: 'United Kingdom', es: 'Reino Unido' },
  { code: 'US', en: 'United States', es: 'Estados Unidos' },
  { code: 'UY', en: 'Uruguay', es: 'Uruguay' },
  { code: 'UZ', en: 'Uzbekistan', es: 'Uzbekistán' },
  { code: 'VU', en: 'Vanuatu', es: 'Vanuatu' },
  { code: 'VA', en: 'Vatican City', es: 'Ciudad del Vaticano' },
  { code: 'VE', en: 'Venezuela', es: 'Venezuela' },
  { code: 'VN', en: 'Vietnam', es: 'Vietnam' },
  { code: 'YE', en: 'Yemen', es: 'Yemen' },
  { code: 'ZM', en: 'Zambia', es: 'Zambia' },
  { code: 'ZW', en: 'Zimbabwe', es: 'Zimbabue' }
];

// Sort countries alphabetically by the current language
const sortedCountries = countries.sort((a, b) => {
  const nameA = lang === 'en' ? a.en : a.es;
  const nameB = lang === 'en' ? b.en : b.es;
  return nameA.localeCompare(nameB);
});

const defaultPlaceholder = lang === 'en' ? 'Select your country' : 'Selecciona tu país';
---

<select 
  id={id}
  name={name}
  required={required}
  class={`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-primary focus:border-transparent transition-colors font-gotham bg-white ${className}`}
>
  <option value="">{placeholder || defaultPlaceholder}</option>
  {sortedCountries.map(country => (
    <option value={country.code}>
      {lang === 'en' ? country.en : country.es}
    </option>
  ))}
</select>
