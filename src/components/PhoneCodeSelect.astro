---
interface Props {
  id?: string;
  name?: string;
  required?: boolean;
  className?: string;
  placeholder?: string;
  lang?: 'en' | 'es';
}

const { 
  id = "phoneCode", 
  name = "phoneCode", 
  required = false, 
  className = "", 
  placeholder,
  lang = 'es'
} = Astro.props;

const phoneCodes = [
  { code: 'AF', phone: '+93', en: 'Afghanistan (+93)', es: 'Afganistán (+93)' },
  { code: 'AL', phone: '+355', en: 'Albania (+355)', es: 'Albania (+355)' },
  { code: 'DZ', phone: '+213', en: 'Algeria (+213)', es: 'Argelia (+213)' },
  { code: 'AD', phone: '+376', en: 'Andorra (+376)', es: 'Andorra (+376)' },
  { code: 'AO', phone: '+244', en: 'Angola (+244)', es: 'Angola (+244)' },
  { code: 'AG', phone: '+1', en: 'Antigua and Barbuda (+1)', es: 'Antigua y Barbuda (+1)' },
  { code: 'AR', phone: '+54', en: 'Argentina (+54)', es: 'Argentina (+54)' },
  { code: 'AM', phone: '+374', en: 'Armenia (+374)', es: 'Armenia (+374)' },
  { code: 'AU', phone: '+61', en: 'Australia (+61)', es: 'Australia (+61)' },
  { code: 'AT', phone: '+43', en: 'Austria (+43)', es: 'Austria (+43)' },
  { code: 'AZ', phone: '+994', en: 'Azerbaijan (+994)', es: 'Azerbaiyán (+994)' },
  { code: 'BS', phone: '+1', en: 'Bahamas (+1)', es: 'Bahamas (+1)' },
  { code: 'BH', phone: '+973', en: 'Bahrain (+973)', es: 'Baréin (+973)' },
  { code: 'BD', phone: '+880', en: 'Bangladesh (+880)', es: 'Bangladés (+880)' },
  { code: 'BB', phone: '+1', en: 'Barbados (+1)', es: 'Barbados (+1)' },
  { code: 'BY', phone: '+375', en: 'Belarus (+375)', es: 'Bielorrusia (+375)' },
  { code: 'BE', phone: '+32', en: 'Belgium (+32)', es: 'Bélgica (+32)' },
  { code: 'BZ', phone: '+501', en: 'Belize (+501)', es: 'Belice (+501)' },
  { code: 'BJ', phone: '+229', en: 'Benin (+229)', es: 'Benín (+229)' },
  { code: 'BT', phone: '+975', en: 'Bhutan (+975)', es: 'Bután (+975)' },
  { code: 'BO', phone: '+591', en: 'Bolivia (+591)', es: 'Bolivia (+591)' },
  { code: 'BA', phone: '+387', en: 'Bosnia and Herzegovina (+387)', es: 'Bosnia y Herzegovina (+387)' },
  { code: 'BW', phone: '+267', en: 'Botswana (+267)', es: 'Botsuana (+267)' },
  { code: 'BR', phone: '+55', en: 'Brazil (+55)', es: 'Brasil (+55)' },
  { code: 'BN', phone: '+673', en: 'Brunei (+673)', es: 'Brunéi (+673)' },
  { code: 'BG', phone: '+359', en: 'Bulgaria (+359)', es: 'Bulgaria (+359)' },
  { code: 'BF', phone: '+226', en: 'Burkina Faso (+226)', es: 'Burkina Faso (+226)' },
  { code: 'BI', phone: '+257', en: 'Burundi (+257)', es: 'Burundi (+257)' },
  { code: 'KH', phone: '+855', en: 'Cambodia (+855)', es: 'Camboya (+855)' },
  { code: 'CM', phone: '+237', en: 'Cameroon (+237)', es: 'Camerún (+237)' },
  { code: 'CA', phone: '+1', en: 'Canada (+1)', es: 'Canadá (+1)' },
  { code: 'CV', phone: '+238', en: 'Cape Verde (+238)', es: 'Cabo Verde (+238)' },
  { code: 'CF', phone: '+236', en: 'Central African Republic (+236)', es: 'República Centroafricana (+236)' },
  { code: 'TD', phone: '+235', en: 'Chad (+235)', es: 'Chad (+235)' },
  { code: 'CL', phone: '+56', en: 'Chile (+56)', es: 'Chile (+56)' },
  { code: 'CN', phone: '+86', en: 'China (+86)', es: 'China (+86)' },
  { code: 'CO', phone: '+57', en: 'Colombia (+57)', es: 'Colombia (+57)' },
  { code: 'KM', phone: '+269', en: 'Comoros (+269)', es: 'Comoras (+269)' },
  { code: 'CG', phone: '+242', en: 'Congo (+242)', es: 'Congo (+242)' },
  { code: 'CD', phone: '+243', en: 'Congo (Democratic Republic) (+243)', es: 'Congo (República Democrática) (+243)' },
  { code: 'CR', phone: '+506', en: 'Costa Rica (+506)', es: 'Costa Rica (+506)' },
  { code: 'CI', phone: '+225', en: 'Côte d\'Ivoire (+225)', es: 'Costa de Marfil (+225)' },
  { code: 'HR', phone: '+385', en: 'Croatia (+385)', es: 'Croacia (+385)' },
  { code: 'CU', phone: '+53', en: 'Cuba (+53)', es: 'Cuba (+53)' },
  { code: 'CY', phone: '+357', en: 'Cyprus (+357)', es: 'Chipre (+357)' },
  { code: 'CZ', phone: '+420', en: 'Czech Republic (+420)', es: 'República Checa (+420)' },
  { code: 'DK', phone: '+45', en: 'Denmark (+45)', es: 'Dinamarca (+45)' },
  { code: 'DJ', phone: '+253', en: 'Djibouti (+253)', es: 'Yibuti (+253)' },
  { code: 'DM', phone: '+1', en: 'Dominica (+1)', es: 'Dominica (+1)' },
  { code: 'DO', phone: '+1', en: 'Dominican Republic (+1)', es: 'República Dominicana (+1)' },
  { code: 'EC', phone: '+593', en: 'Ecuador (+593)', es: 'Ecuador (+593)' },
  { code: 'EG', phone: '+20', en: 'Egypt (+20)', es: 'Egipto (+20)' },
  { code: 'SV', phone: '+503', en: 'El Salvador (+503)', es: 'El Salvador (+503)' },
  { code: 'GQ', phone: '+240', en: 'Equatorial Guinea (+240)', es: 'Guinea Ecuatorial (+240)' },
  { code: 'ER', phone: '+291', en: 'Eritrea (+291)', es: 'Eritrea (+291)' },
  { code: 'EE', phone: '+372', en: 'Estonia (+372)', es: 'Estonia (+372)' },
  { code: 'SZ', phone: '+268', en: 'Eswatini (+268)', es: 'Esuatini (+268)' },
  { code: 'ET', phone: '+251', en: 'Ethiopia (+251)', es: 'Etiopía (+251)' },
  { code: 'FJ', phone: '+679', en: 'Fiji (+679)', es: 'Fiyi (+679)' },
  { code: 'FI', phone: '+358', en: 'Finland (+358)', es: 'Finlandia (+358)' },
  { code: 'FR', phone: '+33', en: 'France (+33)', es: 'Francia (+33)' },
  { code: 'GA', phone: '+241', en: 'Gabon (+241)', es: 'Gabón (+241)' },
  { code: 'GM', phone: '+220', en: 'Gambia (+220)', es: 'Gambia (+220)' },
  { code: 'GE', phone: '+995', en: 'Georgia (+995)', es: 'Georgia (+995)' },
  { code: 'DE', phone: '+49', en: 'Germany (+49)', es: 'Alemania (+49)' },
  { code: 'GH', phone: '+233', en: 'Ghana (+233)', es: 'Ghana (+233)' },
  { code: 'GR', phone: '+30', en: 'Greece (+30)', es: 'Grecia (+30)' },
  { code: 'GD', phone: '+1', en: 'Grenada (+1)', es: 'Granada (+1)' },
  { code: 'GT', phone: '+502', en: 'Guatemala (+502)', es: 'Guatemala (+502)' },
  { code: 'GN', phone: '+224', en: 'Guinea (+224)', es: 'Guinea (+224)' },
  { code: 'GW', phone: '+245', en: 'Guinea-Bissau (+245)', es: 'Guinea-Bisáu (+245)' },
  { code: 'GY', phone: '+592', en: 'Guyana (+592)', es: 'Guyana (+592)' },
  { code: 'HT', phone: '+509', en: 'Haiti (+509)', es: 'Haití (+509)' },
  { code: 'HN', phone: '+504', en: 'Honduras (+504)', es: 'Honduras (+504)' },
  { code: 'HU', phone: '+36', en: 'Hungary (+36)', es: 'Hungría (+36)' },
  { code: 'IS', phone: '+354', en: 'Iceland (+354)', es: 'Islandia (+354)' },
  { code: 'IN', phone: '+91', en: 'India (+91)', es: 'India (+91)' },
  { code: 'ID', phone: '+62', en: 'Indonesia (+62)', es: 'Indonesia (+62)' },
  { code: 'IR', phone: '+98', en: 'Iran (+98)', es: 'Irán (+98)' },
  { code: 'IQ', phone: '+964', en: 'Iraq (+964)', es: 'Irak (+964)' },
  { code: 'IE', phone: '+353', en: 'Ireland (+353)', es: 'Irlanda (+353)' },
  { code: 'IL', phone: '+972', en: 'Israel (+972)', es: 'Israel (+972)' },
  { code: 'IT', phone: '+39', en: 'Italy (+39)', es: 'Italia (+39)' },
  { code: 'JM', phone: '+1', en: 'Jamaica (+1)', es: 'Jamaica (+1)' },
  { code: 'JP', phone: '+81', en: 'Japan (+81)', es: 'Japón (+81)' },
  { code: 'JO', phone: '+962', en: 'Jordan (+962)', es: 'Jordania (+962)' },
  { code: 'KZ', phone: '+7', en: 'Kazakhstan (+7)', es: 'Kazajistán (+7)' },
  { code: 'KE', phone: '+254', en: 'Kenya (+254)', es: 'Kenia (+254)' },
  { code: 'KI', phone: '+686', en: 'Kiribati (+686)', es: 'Kiribati (+686)' },
  { code: 'KP', phone: '+850', en: 'Korea (North) (+850)', es: 'Corea del Norte (+850)' },
  { code: 'KR', phone: '+82', en: 'Korea (South) (+82)', es: 'Corea del Sur (+82)' },
  { code: 'KW', phone: '+965', en: 'Kuwait (+965)', es: 'Kuwait (+965)' },
  { code: 'KG', phone: '+996', en: 'Kyrgyzstan (+996)', es: 'Kirguistán (+996)' },
  { code: 'LA', phone: '+856', en: 'Laos (+856)', es: 'Laos (+856)' },
  { code: 'LV', phone: '+371', en: 'Latvia (+371)', es: 'Letonia (+371)' },
  { code: 'LB', phone: '+961', en: 'Lebanon (+961)', es: 'Líbano (+961)' },
  { code: 'LS', phone: '+266', en: 'Lesotho (+266)', es: 'Lesoto (+266)' },
  { code: 'LR', phone: '+231', en: 'Liberia (+231)', es: 'Liberia (+231)' },
  { code: 'LY', phone: '+218', en: 'Libya (+218)', es: 'Libia (+218)' },
  { code: 'LI', phone: '+423', en: 'Liechtenstein (+423)', es: 'Liechtenstein (+423)' },
  { code: 'LT', phone: '+370', en: 'Lithuania (+370)', es: 'Lituania (+370)' },
  { code: 'LU', phone: '+352', en: 'Luxembourg (+352)', es: 'Luxemburgo (+352)' },
  { code: 'MG', phone: '+261', en: 'Madagascar (+261)', es: 'Madagascar (+261)' },
  { code: 'MW', phone: '+265', en: 'Malawi (+265)', es: 'Malaui (+265)' },
  { code: 'MY', phone: '+60', en: 'Malaysia (+60)', es: 'Malasia (+60)' },
  { code: 'MV', phone: '+960', en: 'Maldives (+960)', es: 'Maldivas (+960)' },
  { code: 'ML', phone: '+223', en: 'Mali (+223)', es: 'Malí (+223)' },
  { code: 'MT', phone: '+356', en: 'Malta (+356)', es: 'Malta (+356)' },
  { code: 'MH', phone: '+692', en: 'Marshall Islands (+692)', es: 'Islas Marshall (+692)' },
  { code: 'MR', phone: '+222', en: 'Mauritania (+222)', es: 'Mauritania (+222)' },
  { code: 'MU', phone: '+230', en: 'Mauritius (+230)', es: 'Mauricio (+230)' },
  { code: 'MX', phone: '+52', en: 'Mexico (+52)', es: 'México (+52)' },
  { code: 'FM', phone: '+691', en: 'Micronesia (+691)', es: 'Micronesia (+691)' },
  { code: 'MD', phone: '+373', en: 'Moldova (+373)', es: 'Moldavia (+373)' },
  { code: 'MC', phone: '+377', en: 'Monaco (+377)', es: 'Mónaco (+377)' },
  { code: 'MN', phone: '+976', en: 'Mongolia (+976)', es: 'Mongolia (+976)' },
  { code: 'ME', phone: '+382', en: 'Montenegro (+382)', es: 'Montenegro (+382)' },
  { code: 'MA', phone: '+212', en: 'Morocco (+212)', es: 'Marruecos (+212)' },
  { code: 'MZ', phone: '+258', en: 'Mozambique (+258)', es: 'Mozambique (+258)' },
  { code: 'MM', phone: '+95', en: 'Myanmar (+95)', es: 'Birmania (+95)' },
  { code: 'NA', phone: '+264', en: 'Namibia (+264)', es: 'Namibia (+264)' },
  { code: 'NR', phone: '+674', en: 'Nauru (+674)', es: 'Nauru (+674)' },
  { code: 'NP', phone: '+977', en: 'Nepal (+977)', es: 'Nepal (+977)' },
  { code: 'NL', phone: '+31', en: 'Netherlands (+31)', es: 'Países Bajos (+31)' },
  { code: 'NZ', phone: '+64', en: 'New Zealand (+64)', es: 'Nueva Zelanda (+64)' },
  { code: 'NI', phone: '+505', en: 'Nicaragua (+505)', es: 'Nicaragua (+505)' },
  { code: 'NE', phone: '+227', en: 'Niger (+227)', es: 'Níger (+227)' },
  { code: 'NG', phone: '+234', en: 'Nigeria (+234)', es: 'Nigeria (+234)' },
  { code: 'MK', phone: '+389', en: 'North Macedonia (+389)', es: 'Macedonia del Norte (+389)' },
  { code: 'NO', phone: '+47', en: 'Norway (+47)', es: 'Noruega (+47)' },
  { code: 'OM', phone: '+968', en: 'Oman (+968)', es: 'Omán (+968)' },
  { code: 'PK', phone: '+92', en: 'Pakistan (+92)', es: 'Pakistán (+92)' },
  { code: 'PW', phone: '+680', en: 'Palau (+680)', es: 'Palaos (+680)' },
  { code: 'PS', phone: '+970', en: 'Palestine (+970)', es: 'Palestina (+970)' },
  { code: 'PA', phone: '+507', en: 'Panama (+507)', es: 'Panamá (+507)' },
  { code: 'PG', phone: '+675', en: 'Papua New Guinea (+675)', es: 'Papúa Nueva Guinea (+675)' },
  { code: 'PY', phone: '+595', en: 'Paraguay (+595)', es: 'Paraguay (+595)' },
  { code: 'PE', phone: '+51', en: 'Peru (+51)', es: 'Perú (+51)' },
  { code: 'PH', phone: '+63', en: 'Philippines (+63)', es: 'Filipinas (+63)' },
  { code: 'PL', phone: '+48', en: 'Poland (+48)', es: 'Polonia (+48)' },
  { code: 'PT', phone: '+351', en: 'Portugal (+351)', es: 'Portugal (+351)' },
  { code: 'QA', phone: '+974', en: 'Qatar (+974)', es: 'Catar (+974)' },
  { code: 'RO', phone: '+40', en: 'Romania (+40)', es: 'Rumania (+40)' },
  { code: 'RU', phone: '+7', en: 'Russia (+7)', es: 'Rusia (+7)' },
  { code: 'RW', phone: '+250', en: 'Rwanda (+250)', es: 'Ruanda (+250)' },
  { code: 'KN', phone: '+1', en: 'Saint Kitts and Nevis (+1)', es: 'San Cristóbal y Nieves (+1)' },
  { code: 'LC', phone: '+1', en: 'Saint Lucia (+1)', es: 'Santa Lucía (+1)' },
  { code: 'VC', phone: '+1', en: 'Saint Vincent and the Grenadines (+1)', es: 'San Vicente y las Granadinas (+1)' },
  { code: 'WS', phone: '+685', en: 'Samoa (+685)', es: 'Samoa (+685)' },
  { code: 'SM', phone: '+378', en: 'San Marino (+378)', es: 'San Marino (+378)' },
  { code: 'ST', phone: '+239', en: 'São Tomé and Príncipe (+239)', es: 'Santo Tomé y Príncipe (+239)' },
  { code: 'SA', phone: '+966', en: 'Saudi Arabia (+966)', es: 'Arabia Saudita (+966)' },
  { code: 'SN', phone: '+221', en: 'Senegal (+221)', es: 'Senegal (+221)' },
  { code: 'RS', phone: '+381', en: 'Serbia (+381)', es: 'Serbia (+381)' },
  { code: 'SC', phone: '+248', en: 'Seychelles (+248)', es: 'Seychelles (+248)' },
  { code: 'SL', phone: '+232', en: 'Sierra Leone (+232)', es: 'Sierra Leona (+232)' },
  { code: 'SG', phone: '+65', en: 'Singapore (+65)', es: 'Singapur (+65)' },
  { code: 'SK', phone: '+421', en: 'Slovakia (+421)', es: 'Eslovaquia (+421)' },
  { code: 'SI', phone: '+386', en: 'Slovenia (+386)', es: 'Eslovenia (+386)' },
  { code: 'SB', phone: '+677', en: 'Solomon Islands (+677)', es: 'Islas Salomón (+677)' },
  { code: 'SO', phone: '+252', en: 'Somalia (+252)', es: 'Somalia (+252)' },
  { code: 'ZA', phone: '+27', en: 'South Africa (+27)', es: 'Sudáfrica (+27)' },
  { code: 'SS', phone: '+211', en: 'South Sudan (+211)', es: 'Sudán del Sur (+211)' },
  { code: 'ES', phone: '+34', en: 'Spain (+34)', es: 'España (+34)' },
  { code: 'LK', phone: '+94', en: 'Sri Lanka (+94)', es: 'Sri Lanka (+94)' },
  { code: 'SD', phone: '+249', en: 'Sudan (+249)', es: 'Sudán (+249)' },
  { code: 'SR', phone: '+597', en: 'Suriname (+597)', es: 'Surinam (+597)' },
  { code: 'SE', phone: '+46', en: 'Sweden (+46)', es: 'Suecia (+46)' },
  { code: 'CH', phone: '+41', en: 'Switzerland (+41)', es: 'Suiza (+41)' },
  { code: 'SY', phone: '+963', en: 'Syria (+963)', es: 'Siria (+963)' },
  { code: 'TW', phone: '+886', en: 'Taiwan (+886)', es: 'Taiwán (+886)' },
  { code: 'TJ', phone: '+992', en: 'Tajikistan (+992)', es: 'Tayikistán (+992)' },
  { code: 'TZ', phone: '+255', en: 'Tanzania (+255)', es: 'Tanzania (+255)' },
  { code: 'TH', phone: '+66', en: 'Thailand (+66)', es: 'Tailandia (+66)' },
  { code: 'TL', phone: '+670', en: 'Timor-Leste (+670)', es: 'Timor Oriental (+670)' },
  { code: 'TG', phone: '+228', en: 'Togo (+228)', es: 'Togo (+228)' },
  { code: 'TO', phone: '+676', en: 'Tonga (+676)', es: 'Tonga (+676)' },
  { code: 'TT', phone: '+1', en: 'Trinidad and Tobago (+1)', es: 'Trinidad y Tobago (+1)' },
  { code: 'TN', phone: '+216', en: 'Tunisia (+216)', es: 'Túnez (+216)' },
  { code: 'TR', phone: '+90', en: 'Turkey (+90)', es: 'Turquía (+90)' },
  { code: 'TM', phone: '+993', en: 'Turkmenistan (+993)', es: 'Turkmenistán (+993)' },
  { code: 'TV', phone: '+688', en: 'Tuvalu (+688)', es: 'Tuvalu (+688)' },
  { code: 'UG', phone: '+256', en: 'Uganda (+256)', es: 'Uganda (+256)' },
  { code: 'UA', phone: '+380', en: 'Ukraine (+380)', es: 'Ucrania (+380)' },
  { code: 'AE', phone: '+971', en: 'United Arab Emirates (+971)', es: 'Emiratos Árabes Unidos (+971)' },
  { code: 'GB', phone: '+44', en: 'United Kingdom (+44)', es: 'Reino Unido (+44)' },
  { code: 'US', phone: '+1', en: 'United States (+1)', es: 'Estados Unidos (+1)' },
  { code: 'UY', phone: '+598', en: 'Uruguay (+598)', es: 'Uruguay (+598)' },
  { code: 'UZ', phone: '+998', en: 'Uzbekistan (+998)', es: 'Uzbekistán (+998)' },
  { code: 'VU', phone: '+678', en: 'Vanuatu (+678)', es: 'Vanuatu (+678)' },
  { code: 'VA', phone: '+39', en: 'Vatican City (+39)', es: 'Ciudad del Vaticano (+39)' },
  { code: 'VE', phone: '+58', en: 'Venezuela (+58)', es: 'Venezuela (+58)' },
  { code: 'VN', phone: '+84', en: 'Vietnam (+84)', es: 'Vietnam (+84)' },
  { code: 'YE', phone: '+967', en: 'Yemen (+967)', es: 'Yemen (+967)' },
  { code: 'ZM', phone: '+260', en: 'Zambia (+260)', es: 'Zambia (+260)' },
  { code: 'ZW', phone: '+263', en: 'Zimbabwe (+263)', es: 'Zimbabue (+263)' }
];

// Sort by country name alphabetically
const sortedPhoneCodes = phoneCodes.sort((a, b) => {
  const nameA = lang === 'en' ? a.en : a.es;
  const nameB = lang === 'en' ? b.en : b.es;
  return nameA.localeCompare(nameB);
});

const defaultPlaceholder = lang === 'en' ? 'Select country code' : 'Selecciona código de país';
---

<select 
  id={id}
  name={name}
  required={required}
  class={`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-primary focus:border-transparent transition-colors font-gotham bg-white ${className}`}
>
  <option value="">{placeholder || defaultPlaceholder}</option>
  {sortedPhoneCodes.map(country => (
    <option value={country.phone}>
      {lang === 'en' ? country.en : country.es}
    </option>
  ))}
</select>
